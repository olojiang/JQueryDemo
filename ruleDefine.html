<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <!-- JQuery -->
    <script src="js/vendor/jquery-1.11.1.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/vendor/bootstrap.css"/>
    <script src="js/vendor/bootstrap.js"></script>

    <!-- hitch -->
    <script src="js/bigknow/jquery.hitch.js"></script>

    <!-- Ajax -->
    <script src="js/bigknow/bigknow.ajax.js"></script>
    <script src="js/bigknow/bigknow.ajax.handler.js"></script>

    <!-- Message -->
    <link rel="stylesheet" href="css/vendor/jquery.noty.css" />
    <link rel="stylesheet" href="css/vendor/noty_theme_default.css" />

    <script src="js/vendor/jquery.noty.js"></script>
    <script src="js/bigknow/bigknow.noty.message.js"></script>

    <script src="js/vendor/jquery.bpopup.min.js"></script>
    <script src="js/bigknow/bigknow.mask.message.js"></script>

    <!-- Select -->
    <script src="js/bigknow/bigknow.select.js"></script>

    <!-- Rule Define -->
    <script src="js/bigknow/bigknow.rule.define.js"></script>
    <link rel="stylesheet" href="css/bigknow/bigknow.rule.define.css" />

    <script type="text/javascript">
        $(function(){
            var sourceValueList = [
                {
                    "id": "item1",
                    "value": "value1",
                    "des": "des1"
                },
                {
                    "id": "item2",
                    "value": "value2",
                    "des": "des2"
                },
                {
                    "id": "item3",
                    "value": "value3",
                    "des": "des3"
                },
                {
                    "id": "item4",
                    "value": "value4"
                },
                {
                    "id": "item5",
                    "value": "value5"
                },
                {
                    "id": "item6",
                    "value": "value6"
                },
                {
                    "id": "item7",
                    "value": "value8"
                }
            ];

            var valueTypeList = [
                {
                    "id": "string",
                    "value": "字符串"
                },
                {
                    "id": "number",
                    "value": "数字"
                }
            ];

            var operatorsMap = {
                "string": [
                    {
                        "id": "indexOf",
                        "value": "包含"
                    },
                    {
                        "id": "startsWith",
                        "value": "开始字符串"
                    },
                    {
                        "id": "endsWith",
                        "value": "结束字符串"
                    }],
                "number": [
                    {
                        "id": ">",
                        "value": ">"
                    },
                    {
                        "id": ">=",
                        "value": ">="
                    },
                    {
                        "id": "=",
                        "value": "="
                    },
                    {
                        "id": "<=",
                        "value": "<="
                    },
                    {
                        "id": "<",
                        "value": "<"
                    }
                ]
            };

            var ruleDefine = new RuleDefine($('#containerSingle'), sourceValueList, valueTypeList, operatorsMap);

            $('#getValues').on('click', function(evt){
                ruleDefine.getValues();
            });

            $('#validate').on('click', function(evt){
                var target = $(evt.currentTarget);
                console.info("onclick(), target=", target);

                $('#validateResult').text(ruleDefine.validate(ruleDefine.getValues()));
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>Define rules</h1>
        <div id="containerSingle"></div>
        <div>
            <button type="button" class="btn" id="getValues">Get Values</button>
            <button type="button" class="btn" id="validate">Validate</button>
            <span id="validateResult"></span>
        </div>
    </div>
</body>
</html>